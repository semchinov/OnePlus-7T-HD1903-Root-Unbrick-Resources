UNBRICK OnePlus 7T (HD1903) через MSM Download Tool на Windows

Что это и когда нужно
— Это аварийное восстановление телефона, если он не загружается (бутлуп), уходит в Qualcomm CrashDump Mode, или система не стартует после неудачных манипуляций с boot/dtbo/vbmeta/супер-разделом.
— При корректном руте по основной инструкции этот раздел обычно не понадобится.

Что потребуется
— ПК/ноутбук с Windows 10/11 (x64), права администратора.
— Кабель USB-C (желательно родной/качественный, без USB-хабов).
— Драйвер «Qualcomm HS-USB QDLoader 9008».
— Пакет «MSM Download Tool» для OnePlus 7T EU (HD65BA) под Android 10 (в нашем кейсе ставили 10.0.15).
— Заряд телефона не ниже ~30%.

Где взять пакет
— Для EU-версии (HD65BA) под Android 10 скачивали архив размером ~3 ГБ. Внутри одна папка вида «hotdogb_14_E.21_201105», а в ней:
• «MsmDownloadTool V4.0.exe»
• «hotdogb_14_E.21_201105.ops» (большой файл ~6 ГБ)
• «md5sum_pack.md5», «build_path.txt»
— Это нормально, что нет папки «images». MSM читает .ops напрямую.
— Распаковывать лучше в короткий путь без пробелов и кириллицы, например: C:\OP7T_MSM\hotdogb_14_E.21_201105\

Подготовка драйвера (Windows)
	1.	Открой «Диспетчер устройств».
	2.	Переведи телефон в EDL (см. ниже) и подключи к ПК.
	3.	Если в списке устройств появляется «QHUSB_BULK» или «Неизвестное устройство» — драйвера нет. Нужен «Qualcomm HS-USB QDLoader 9008 (COMxx)».
	4.	Кликни правой кнопкой по устройству → «Обновить драйвер» → «Выполнить поиск драйверов на этом компьютере» → укажи папку с драйверами (или распакованный .cab).
	5.	После установки должно отобразиться «Qualcomm HS-USB QDLoader 9008 (COMxx)». Если не ставится — перезагрузи ПК, попробуй другой USB-порт (лучше USB 2.0 на задней панели), другой кабель.

Как войти в EDL (9008)
— Полностью выключи телефон. Если завис/CrashDump — зажми кнопку питания на 10–15 секунд до полного отключения.
— Зажми одновременно «Громкость +» и «Громкость −» и, не отпуская, подключи USB-кабель к ПК. Экран остаётся чёрным — это нормально.
— В «Диспетчере устройств» должен появиться «Qualcomm HS-USB QDLoader 9008 (COMxx)».
— Важно: телефон должен быть подключён только к Windows-ПК, кабель из Mac вытащен.

Порядок прошивки в MSM Download Tool
	1.	Запусти «MsmDownloadTool V4.0.exe» от имени администратора.
	2.	В поле Target для EU-пакета обычно доступен только «EU» — так и оставляем (в глобальных пакетах есть переключатель O2/India, нам он не нужен).
	3.	Нажми «Enum» — в таблице должна появиться строка с твоим COM-портом (при смене портов может появляться несколько строк — это нормально).
	4.	Нажми «Start». Ничего не трогай. Процесс занимает ~3–7 минут.
	5.	При успехе появится «Download Complete/Success», телефон автоматически перезагрузится в систему OxygenOS (в нашем кейсе — 10.0.15 HD65BA).

Важные примечания по порядку действий
— Если «Enum» ничего не показывает, но в «Диспетчере устройств» есть «QDLoader 9008», закрой/открой MSM, выдерни/вставь кабель, попробуй другой USB-порт и перезапусти «Start».
— Иногда помогает порядок «сначала Start, потом подключить телефон в EDL», а не наоборот.
— Держать «Громкость +/−» во время начала прошивки иногда помогает при ошибках связи («Sahara»).
— Не используем «SMT Download» — это сервисный режим, может стереть IMEI/Widevine.
— Антивирус/защитник Windows иногда мешают — при необходимости временно отключи.
— Не запускай прошивку из архива: обязательно распакуй ZIP целиком на диск.

Частые ошибки и что делать
— Зациклено на «Param pre-processing»: почти всегда проблема драйвера. Переустанови «Qualcomm HS-USB QDLoader 9008», перезагрузи ПК, смени порт/кабель.
— «Sahara communication failed» / «Firehose fail»: передёрни кабель, используй задний USB 2.0, держи обе клавиши громкости, попробуй вариантом «Start → затем подключить телефон».
— «Unsupported Target EU»: означает несоответствие пакета модели/региона. Для HD1903 используй EU-пакет (HD65BA/Q).
— Телефон не определяется вовсе: проверь, что он реально в EDL (экран чёрный, в диспетчере «QDLoader 9008»), а не в fastboot/recovery.
— После «Success» снова CrashDump/бутлуп: повтори прошивку; если не помогает — проверь целостность архива (MD5/SHA-256), скачай другой источник, попробуй другой ПК/порт.

Что происходит «под капотом»
— MSM заливает все критические разделы из .ops (включая модем/dsp/boot/super и т. д.), делает полный сброс данных. Это возвращает полностью стоковую систему и загрузчики.
— Обычно загрузчик снова становится «locked»; для рут-процедуры его потом можно разблокировать и продолжить по основной инструкции.

Что делать после восстановления
— Телефон загрузится в чистую OxygenOS (первый запуск может идти 5–10 минут).
— Пройди первоначальную настройку.
— Если планируешь снова получать root: включи «Параметры разработчика», «Заводская разблокировка (OEM unlocking)», «Отладка по USB (USB debugging)» и вернись к инструкции по root.

Мини-чек-лист перед стартом
— Архив MSM распакован в путь без кириллицы: C:\OP7T_MSM\…
— Драйвер в диспетчере именно «Qualcomm HS-USB QDLoader 9008 (COMxx)».
— Кабель напрямую в ПК (без хабов), лучше USB 2.0 порт.
— «MsmDownloadTool V4.0.exe» запущен как администратор.
— В MSM выбран правильный Target (EU).
— Во время прошивки телефон не отсоединяем, Windows не уводим в сон.

Это ровно та последовательность и детали, которые у нас сработали: правильный драйвер в «Диспетчере устройств», вход в EDL через обе клавиши громкости, запуск MSM с «Enum → Start», ожидание «Download Success», перезагрузка и первичная настройка.
